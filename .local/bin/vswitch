#!/bin/bash

viv_config_dir="${HOME}/.config/viv-cli"
config_file="config.${1}.json"

if [ ! -f "${viv_config_dir}/${config_file}" ]
then
  echo "No config called '${1}'. Available configs:"
  find "${viv_config_dir}" -type f -name "config.*.json" | sed -E 's/^.+\/config\.(.+)\.json$/  \1/' | sort
  return 1
fi

ln -sf "${config_file}" "${viv_config_dir}/config.json"
echo "Switched to config '${1}'"
